<!DOCTYPE html>
<html lang="en">
<head>
    <title>Login Page</title>
</head>
<body>

    <div id="div">
        <h3>Username</h3><input type="text" id="username">
        <h3>Password</h3><input type="password" id="password">
        <button onclick="login()" id="loginButton">Login</button>
    </div>
    
</body>

<script>

    function login(){
        let xttp = new XMLHttpRequest();

        xttp.onreadystatechange = function() {
            console.log(this.readyState);
            if (this.readyState == 4 && this.status == 200){
                document.getElementById("div").innerHTML = "Successfully logged in";

                responseObject = JSON.parse(this.responseText);

                window.location.url = "storePage.html";
            }
        }

        url = "localhost:5000/login";
        xttp.open("POST", url, true);

        let loginCredentials = {
            "username": document.getElementById("username").value,
            "password": document.getElementById("password").value
        }

        xttp.send(loginCredentials);
    }

</script>
</html>